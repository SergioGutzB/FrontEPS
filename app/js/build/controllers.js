function pacienteAddController(e,t){var n=this;n.sData=t,n.icon="fa-user-plus",n.title="Registrar Paciente",null!==n.sData.paciente&&(n.paciente=n.sData.paciente,n.paciente.fechaNacimiento=new Date(Date.parse(n.paciente.fechaNacimiento)),n.title="Editar Paciente",n.icon="fa-user")}function profesionalAddController(e,t){var n=this;n.sData=t,n.icon="fa-user-plus",n.title="Registrar Paciente",null!==n.sData.profesional&&(n.profesional=n.sData.profesional,n.profesional.fechaNacimiento=new Date(Date.parse(n.profesional.fechaNacimiento)),n.profesional.consultorio=parseInt(n.profesional.consultorio),n.title="Editar Profesional",n.icon="fa-user")}function CitasController(e,t,n,o,i,a){var l=this;o.$on("$destroy",function(){e.locale("en"),n.i18nStrings=r}),l.calendarView="week",l.viewDate=new Date,l.rangeSelected=function(e,t){l.firstDateClicked=e,l.lastDateClicked=t},n.dateFormatter="moment";var r=angular.copy(n.i18nStrings);n.i18nStrings.weekNumber="Semana {week}",i.moment=i.moment||e,a.load("../../../bower_components/moment/locale/es.js").then(function(){e.locale("es",{week:{dow:1}}),e.locale("es")}),o.$on("$destroy",function(){e.locale("en"),n.i18nStrings=r});var s=[{label:"<i class='glyphicon glyphicon-pencil'></i>",onClick:function(e){t.show("Edited",e.calendarEvent)}},{label:"<i class='glyphicon glyphicon-remove'></i>",onClick:function(e){t.show("Deleted",e.calendarEvent)}}];l.events=[{title:"Paciente 1",color:n.colorTypes.warning,startsAt:e().startOf("day").add(7,"hours").toDate(),endsAt:e().startOf("day").add(7.5,"hours").toDate(),draggable:!0,resizable:!0,actions:s},{title:"Paciente 2",color:n.colorTypes.info,startsAt:e().startOf("day").add(7.5,"hours").toDate(),endsAt:e().startOf("day").add(8,"hours").toDate(),draggable:!0,resizable:!0,actions:s},{title:"Paciente 3",color:n.colorTypes.important,startsAt:e().startOf("day").add(8,"hours").toDate(),endsAt:e().startOf("day").add(9,"hours").toDate(),recursOn:"year",draggable:!0,resizable:!0,actions:s}],l.cellIsOpen=!0,l.addEvent=function(){l.events.push({title:"New event",startsAt:e().startOf("day").toDate(),endsAt:e().endOf("day").toDate(),color:n.colorTypes.important,draggable:!0,resizable:!0})},l.eventClicked=function(e){t.show("Clicked",e)},l.eventEdited=function(e){t.show("Edited",e)},l.eventDeleted=function(e){console.log("Deleted"),t.show("Deleted ju",e)},l.eventTimesChanged=function(e){t.show("Dropped or resized",e)},l.toggle=function(e,t,n){e.preventDefault(),e.stopPropagation(),n[t]=!n[t]},l.timespanClicked=function(t,n){"month"===l.calendarView?l.cellIsOpen&&e(t).startOf("day").isSame(e(l.viewDate).startOf("day"))||0===n.events.length||!n.inMonth?l.cellIsOpen=!1:(l.cellIsOpen=!0,l.viewDate=t):"year"===l.calendarView&&(l.cellIsOpen&&e(t).startOf("month").isSame(e(l.viewDate).startOf("month"))||0===n.events.length?l.cellIsOpen=!1:(l.cellIsOpen=!0,l.viewDate=t))}}function DashBoardController(){}function hcController(e,t,n){var o=this;o.sData=t,null==o.sData.paciente&&n.path("/pacientes"),o.paciente=o.sData.paciente}function indexCotroller(e,t){this.close=function(){console.log("close")},e.currentPage=t.path().split("/")[1],this.go=function(n){e.currentPage=n,t.path("/"+n),""===n&&(e.currentPage="inicio")}}function pacientesController(e,t,n,o,i,a){function l(e,t){var n=this;n.sData=t,n.hide=function(){e.hide()},n.cancel=function(){e.cancel()},n.answer=function(t){e.hide(t)}}var r=this;r.sData=a,r.showAdvanced=function(e){r.getCurrentSelection()&&i.show({controller:l,controllerAs:"dialog",bindToController:!0,templateUrl:"/views/modalPaciente.html",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0,fullscreen:r.customFullscreen}).then(function(e){r.status='You said the information was "'+e+'".'},function(){r.status="You cancelled the dialog."})},r.seleccionable=!0,r.gridOptions={enableRowSelection:!1,enableRowHeaderSelection:!1,paginationPageSizes:[25,50,75],paginationPageSize:25,enablePaginationControls:!1,enableFiltering:!1,multiSelect:!1,modifierKeysToMultiSelect:!1,noUnselect:!0,onRegisterApi:function(e){r.gridApi=e,r.gridApi.grid.registerRowsProcessor(r.singleFilter,200)},columnDefs:[{field:"primerNombre"},{field:"segundoNombre"},{field:"primerApellido"},{field:"segundoApellido"},{field:"documento"},{field:"fechaNacimiento"},{field:"estadoCivil"}]},r.toggleRowSelection=function(){r.sData.paciente=null,r.gridApi.selection.clearSelectedRows(),r.gridOptions.enableRowSelection=!r.gridOptions.enableRowSelection,r.gridApi.core.notifyDataChange(n.dataChange.OPTIONS)},r.getCurrentSelection=function(){return r.sData.paciente=r.gridApi.selection.getSelectedRows()[0],console.log(r.sData.paciente),void 0!=r.sData.paciente},r.filter=function(){r.gridApi.grid.refresh()},r.singleFilter=function(e){var t=new RegExp(r.filterValue);return e.forEach(function(e){var n=!1;["primerNombre","segundoNombre","primerApellido","segundoApellido","documento"].forEach(function(o){e.entity[o].match(t)&&(n=!0)}),n||(e.visible=!1)}),e},e.$watch(function(){return r.filterValue},r.filter),e.$watch(function(){return r.seleccionable},r.toggleRowSelection),r.go=function(e){r.getCurrentSelection()&&o.path("/"+e)},r.goAdd=function(e){r.sData.paciente=null,o.path("/addPaciente")},r.gridOptions.data=a.pacientes,t(function(){r.gridApi.selection.selectRow(r.gridOptions.data[0]),r.gridApi.selection.clearSelectedRows()},0,1),l.$inject=["$mdDialog","sData"]}function profesionalesController(e,t,n,o,i,a){var l=this;l.sData=a,l.seleccionable=!0,l.filterValue="",l.gridOptions={enableRowSelection:!1,enableRowHeaderSelection:!1,paginationPageSizes:[25,50,75],paginationPageSize:25,enablePaginationControls:!1,enableFiltering:!1,multiSelect:!1,modifierKeysToMultiSelect:!1,noUnselect:!0,onRegisterApi:function(e){l.gridApi=e,l.gridApi.grid.registerRowsProcessor(l.singleFilter,200)},columnDefs:[{field:"primerNombre"},{field:"primerApellido"},{field:"segundoApellido"},{field:"documento"},{field:"especialidad"},{field:"consultorio"}]},l.toggleRowSelection=function(){l.sData.profesional=null,l.gridApi.selection.clearSelectedRows(),l.gridOptions.enableRowSelection=!l.gridOptions.enableRowSelection,l.gridApi.core.notifyDataChange(n.dataChange.OPTIONS)},l.getCurrentSelection=function(){return l.sData.profesional=l.gridApi.selection.getSelectedRows()[0],void 0!=l.sData.profesional},l.filter=function(){l.filterValue&&l.gridApi.grid.refresh()},l.singleFilter=function(e){var t=new RegExp(l.filterValue);return e.forEach(function(e){var n=!1;["primerNombre","primerApellido","segundoApellido","documento","especialidad"].forEach(function(o){e.entity[o].match(t)&&(n=!0)}),n||(e.visible=!1)}),e},e.$watch(function(){return l.filterValue},l.filter),e.$watch(function(){return l.seleccionable},l.toggleRowSelection),l.go=function(e){l.getCurrentSelection()&&o.path("/"+e)},l.goAdd=function(e){l.sData.profesional=null,o.path("/addProfesional")},l.gridOptions.data=l.sData.profesionales,t(function(){l.gridApi.selection.selectRow(l.gridOptions.data[0]),l.gridApi.selection.clearSelectedRows()},0,1)}var eps=angular.module("Eps");eps.controller("PacienteAdd",pacienteAddController),pacienteAddController.$inject=["$scope","sData"];var eps=angular.module("Eps");eps.controller("ProfesionalAdd",profesionalAddController),profesionalAddController.$inject=["$scope","sData"];var eps=angular.module("Eps");eps.controller("Citas",CitasController),CitasController.$inject=["moment","alert","calendarConfig","$scope","$window","$ocLazyLoad"];var eps=angular.module("Eps");eps.controller("DashBoard",DashBoardController);var eps=angular.module("Eps");eps.controller("HC",hcController),hcController.$inject=["$scope","sData","$location"];var eps=angular.module("Eps");eps.controller("Index",indexCotroller),indexCotroller.$inject=["$rootScope","$location"];var eps=angular.module("Eps");eps.controller("Pacientes",pacientesController),pacientesController.$inject=["$scope","$interval","uiGridConstants","$location","$mdDialog","sData"];var eps=angular.module("Eps");eps.controller("Profesionales",profesionalesController),profesionalesController.$inject=["$scope","$interval","uiGridConstants","$location","$mdDialog","sData"];